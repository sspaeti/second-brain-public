(async function(){const t=e=>e.toLowerCase().split(/([^a-z]|[^\x00-\x7F])/),n=new FlexSearch.Document({cache:!0,charset:"latin:extra",optimize:!0,index:[{field:"content",tokenize:"reverse",encode:t},{field:"title",tokenize:"forward",encode:t}]}),{content:e}=await fetchData;for(const[s,t]of Object.entries(e))n.add({id:s,title:t.title,content:removeMarkdown(t.content)});const s=t=>({id:t,url:t,title:e[t].title,content:e[t].content});registerHandlers(e=>{term=e.target.value;const o=n.search(term,[{field:"content",limit:10},{field:"title",limit:5}]),t=e=>{const t=o.filter(t=>t.field===e);return t.length===0?[]:[...t[0].result]},i=new Set([...t("title"),...t("content")]),a=[...i].map(s);displayResults(a,!0)})})()